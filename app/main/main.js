(()=>{"use strict";function e(e){return function(o,r){return r?s.dialog.showMessageBox(r,{type:e,...o}):s.dialog.showMessageBox({type:e,...o})}}function o(){new s.BrowserWindow({width:800,height:600,minWidth:800,minHeight:600,webPreferences:{nodeIntegration:!0,webSecurity:!0,contextIsolation:!1}}).loadURL(new URL("./index.html",d).toString())}var r,t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const n=require("path");r=t.n(n);const i=require("url"),s=require("electron"),c={none:e("none"),info:e("info"),error:e("error"),question:e("question"),warning:e("warning")};const a=(0,i.pathToFileURL)(r().join(process.cwd(),"./resources/app.asar/renderer/")).toString(),l="electron",p=new RegExp("^electron://"),u={setDefaultProtocol:function(){s.app.removeAsDefaultProtocolClient(l),s.app.setAsDefaultProtocolClient(l)},watchMacProtocol:function(){s.app.on("open-url",((e,o)=>{p.test(o)&&c.info({message:"Mac protocol 自定义协议打开",detail:`链接:${o}`})}))},watchWindowProtocol:function(){s.app.on("second-instance",((e,o)=>{o.forEach((e=>{p.test(e)&&c.info({message:"window protocol 自定义协议打开",detail:`链接:${e}`})}))}))},registerFileProtocol:function(e){s.protocol.registerFileProtocol(e,((o,t)=>{const n=a;let i=o.url.replace(`${e}://`,"");return i=r().join(n,i),t({path:decodeURIComponent(i)})}))},registerSchemesAsPrivileged:function(e){return s.protocol.registerSchemesAsPrivileged([{scheme:e,privileges:{bypassCSP:!0}}])}};console.log("electron main process running."),console.log("electron main process argvs",process.argv);let d=(0,i.pathToFileURL)(r().join(process.cwd(),"./resources/app.asar/renderer/")).toString();s.app.on("window-all-closed",(()=>{"darwin"!==process.platform&&s.app.quit()})),s.app.on("activate",(()=>{0===s.BrowserWindow.getAllWindows().length&&o()})),s.app.on("ready",(()=>{u.registerFileProtocol("electron"),o()}))})();